<div id=nodeTemplate style="position:absolute; width:200px; height:100px; display:none;";>
  <div id=shapeLayout style="position:absolute; top:0px; left:0px; width:100%; height:100%; border-width:2px; border-style:solid; border-color:red;border-radius:5px; background-color:#FFFFFF;"></div>
  <div id=toolsLayout style="position:absolute; top:0px; left:0px; width:100%; height:100%;"></div>
  <div id=textLayout style="position:absolute; top:0px; left:0px; width:100%; height:100%; display:table;">
    <div style="display:table-cell; vertical-align:middle; text-align:center;">
      <div id="title" style="position:relative; top:0px; left:0px;">[[Title]]</div>
      <div style="position:relative; top:0px; left:0px;">[[Description]]</div>
      <div style="position:relative; top:-10px; left:50px;">
        <img src="data:image/gif;base64,R0lGODlhEAAOALMAAOazToeHh0tLS/7LZv/0jvb29t/f3//Ub//ge8WSLf/rhf/3kdbW1mxsbP//mf///yH5BAAAAAAALAAAAAAQAA4AAARe8L1Ekyky67QZ1hLnjM5UUde0ECwLJoExKcppV0aCcGCmTIHEIUEqjgaORCMxIC6e0CcguWw6aFjsVMkkIr7g77ZKPJjPZqIyd7sJAgVGoEGv2xsBxqNgYPj/gAwXEQA7" width="16" height="14" alt="embedded folder icon">
      </div>
    </div>
  </div>
</div>


<script>
(function() {
  var NodeFactory = {   
    init: function() {
      console.log("initialized");
    },
    add: function(x, y, title) {
      var templateNode = document.getElementById("nodeTemplate");
      var newNode = templateNode.cloneNode(true);
      newNode.style.display="block";
      newNode.style.left=x;
      newNode.style.top=y;
      newNode.querySelector("#textLayout #title").innerHTML = title;
      document.body.appendChild(newNode);
    },
    save: function() {
      console.log("saved");
    }
  }

  var Utils = {
    getRandomInt: function(max) {
      return Math.floor(Math.random() * Math.floor(max));
    }
  }


  NodeFactory.init();

  for (i = 0; i < 50; i++) {
    NodeFactory.add(Utils.getRandomInt(500),Utils.getRandomInt(500),"test");
  }
})();
</script>
